{"version":3,"sources":["main.js"],"names":["$siteList","$","$last","find","y","JSON","parse","localStorage","getItem","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","n","Math","ceil","random","newLogo","push","onbeforeunload","string","stringify","setItem","val","attr"],"mappings":"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","file":"main.f3cd7d35.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $last = $siteList.find(\"li.last\");\r\nconst y = JSON.parse(localStorage.getItem(\"y\"));\r\nconst hashMap = y || [\r\n  {\r\n    logo:\r\n      \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3500378932,2505168882&fm=26&gp=0.jpg\",\r\n    url: \"http://www.bilibili.com\",\r\n  },\r\n  {\r\n    logo:\r\n      \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3500378932,2505168882&fm=26&gp=0.jpg\",\r\n    url: \"http://www.taobao.com\",\r\n  },\r\n];\r\nconst simplifyUrl = (url) => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(\".com\", \"\")\r\n    .replace(/\\/.*/, \"\"); // 删除 / 开头的内容\r\n};\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.last)\").remove(); //清空之前的\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(`\r\n          <li>\r\n              <div class=\"site\">\r\n                  <div class=\"logo\"><img src=\"${node.logo}\"></div>\r\n                  <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                  <div class=\"close\">\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-close\"></use>\r\n                    </svg>\r\n                  </div>\r\n              </div>\r\n          </li>`).insertBefore($last);\r\n    $li.on(\"click\", () => {\r\n      window.open(node.url);\r\n    });\r\n    $li.on(\"click\", \".close\", (e) => {\r\n      e.stopPropagation();\r\n      hashMap.splice(index, 1);\r\n      render();\r\n    });\r\n  });\r\n};\r\nrender();\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请输入要添加的网址\");\r\n  if (url.indexOf(\"http\") !== 0 || url.indexOf(\"https\") !== 0) {\r\n    url = \"https://\" + url;\r\n  }\r\n  let n = Math.ceil(Math.random() * 10);\r\n  let newLogo;\r\n  switch (n) {\r\n    case 1:\r\n      newLogo =\r\n        \"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2504392586,3499308163&fm=15&gp=0.jpg\";\r\n      break;\r\n    case 2:\r\n      newLogo =\r\n        \"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3351643673,1921012560&fm=15&gp=0.jpg\";\r\n      break;\r\n    case 3:\r\n      newLogo =\r\n        \"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2382351343,687644440&fm=26&gp=0.jpg\";\r\n      break;\r\n    case 4:\r\n      newLogo =\r\n        \"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=88797792,1181454646&fm=15&gp=0.jpg\";\r\n      break;\r\n    case 5:\r\n      newLogo =\r\n        \"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2302215709,2875734388&fm=15&gp=0.jpg\";\r\n      break;\r\n    case 6:\r\n      newLogo =\r\n        \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3500378932,2505168882&fm=26&gp=0.jpg\";\r\n      break;\r\n    case 7:\r\n      newLogo =\r\n        \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1809374780,2828319758&fm=26&gp=0.jpg\";\r\n      break;\r\n    case 8:\r\n      newLogo =\r\n        \"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=357409742,1965222523&fm=26&gp=0.jpg\";\r\n      break;\r\n    case 9:\r\n      newLogo =\r\n        \"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1344739748,783129263&fm=26&gp=0.jpg\";\r\n      break;\r\n    case 10:\r\n      newLogo =\r\n        \"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=459921552,931547644&fm=26&gp=0.jpg\";\r\n      break;\r\n  }\r\n\r\n  hashMap.push({\r\n    logo: newLogo,\r\n    url: url,\r\n  });\r\n  render();\r\n});\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap); //数组变字符串\r\n  localStorage.setItem(\"y\", string);\r\n};\r\n$(\".go\").on(\"click\", () => {\r\n  if ($(\".choose\").val() === \"google\") {\r\n    $(\".searchForm\").attr(\"action\", \"https://www.google.com/search\");\r\n    $(\".inputSearch\").attr(\"name\", \"q\");\r\n  }\r\n});\r\n"]}